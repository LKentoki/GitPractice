<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>practice11</title>
    <script>
        // 模拟API函数（已提供）
        function fetchUser(id) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    if (id > 0) {
                        resolve({ id, name: `用户${id}`, email: `user${id}@example.com` });
                    } else {
                        reject(new Error('用户ID无效'));
                    }
                }, 500);
            });
        }

        function fetchUserPosts(userId) {
            return new Promise(resolve => {
                setTimeout(() => {
                    resolve([
                        { id: 1, title: '文章1', userId },
                        { id: 2, title: '文章2', userId }
                    ]);
                }, 300);
            });
        }

        // 请实现这个函数
        async function fetchUserData(userId) {
            try {
                // 获取用户基本信息
                const userInfo = await fetchUser(userId);
        
                // 获取用户文章列表
                const userPosts = await fetchUserPosts(userInfo.id);
        
                // 返回合并后的完整信息
                return {
                    ...userInfo,
                    posts: userPosts
                };
            } catch (error) {
                // 统一错误处理
                console.error(`获取用户数据失败: ${error.message}`);
                throw new Error(`无法完成用户数据请求: ${error.message}`);
            }
        }
    </script>
</head>
<body>
    
</body>
</html>